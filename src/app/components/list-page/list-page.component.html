<div class="page">
  <mat-expansion-panel class="sub-header" hideToggle [expanded]="showSearch" 
      (opened)="showSearch = true" (closed)="showSearch = false">
    <mat-expansion-panel-header>
      <mat-panel-title (click)="headerClick($event)">
       <h1>{{ title }}</h1>
      </mat-panel-title>
      <mat-panel-description (click)="headerClick($event)">
        <span class="controls">
          <button mat-icon-button [color]="showSearch ? 'accent' : 'primary'" 
              (click)="search($event)"
              aria-label="Search">
            <mat-icon>search</mat-icon>
          </button>
          <button mat-icon-button [color]="view === 'list' ? 'accent' : 'primary'" 
              (click)="viewList($event)" 
              aria-label="List View">
            <mat-icon>list-outlined</mat-icon>
          </button>
          <button mat-icon-button [color]="view === 'grid' ? 'accent' : 'primary'" 
              (click)="viewGrid($event)"
              aria-label="Tile View">
            <mat-icon>grid_view</mat-icon>
          </button>
        </span>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <ng-content select="[search]"></ng-content>
  </mat-expansion-panel>
  <ng-content></ng-content>
</div>
